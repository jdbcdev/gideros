<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Gideros Reference Manual</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<meta name="author" content="">
		<link rel="shortcut icon" href="../design/assets/favicon.ico">
		<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../design/assets/greference-144.png">
		<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../design/assets/greference-114.png">
		<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../design/assets/greference-72.png">
		<link rel="apple-touch-icon-precomposed" href="../design/assets/greference-57.png">

		<!-- Le styles -->
		<link href="../design/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="../design/css/font-awesome.min.css">
		<link rel="stylesheet" href="../design/css/theme.css">
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,700,800,600,300' rel='stylesheet' type='text/css'>
		<link href="../design/css/prettify.css" type="text/css" rel="stylesheet" />

		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>

  <body data-spy="scroll" data-target=".bs-docs-sidebar" data-offset="20">
<div class="tabbable">
<a name='top'></a>
	<div class="navbar navbar-inverse">
		<div class="navbar-inner">
			<div class="middle-bar">
				<a class="brand" href="http://giderosmobile.com" target='_blank'>GiderosMobile.com</a>
				<h2>Gideros Documentation</h2>
			</div>
		</div>
	</div>
		<ul class="nav nav-tabs">
												<li><a href="../gideros.html">Main API</a></li>
																<li><a href="../physics.html">Physics API</a></li>
																<li><a href="../lua.html">Lua API</a></li>
																<li class="active"><a href="../plugin.html">Plugins</a></li>
																<li><a href="../labs.html">Labs</a></li>
																<li><a href="../new.html">What's new?</a></li>
																<li><a href="../dev.html">In development</a></li>
									</ul>
  <div class="container-fluid">

    <!-- Docs nav
    ================================================== -->
    <div class="row-fluid">
      <div class="span4 bs-docs-sidebar">
		<div id='contents' class='span4' data-spy="affix" data-offset-top="110">
		<h1>Table of Contents</h1>
        <ul class="nav nav-list bs-docs-sidenav">
										<li class='uplist dropdown closedlist'><a href="bit.html#bit" id='bit' class='closed item'><i class="icon-chevron-right"></i> <strong>bit</strong></a>
							<ul class="dropdown-menu">
														<li><a href="bit/arshift.html#bit.arshift" id='bit.arshift'>bit.arshift</a></li>		
										<li><a href="bit/band.html#bit.band" id='bit.band'>bit.band</a></li>		
										<li><a href="bit/bnot.html#bit.bnot" id='bit.bnot'>bit.bnot</a></li>		
										<li><a href="bit/bor.html#bit.bor" id='bit.bor'>bit.bor</a></li>		
										<li><a href="bit/bswap.html#bit.bswap" id='bit.bswap'>bit.bswap</a></li>		
										<li><a href="bit/bxor.html#bit.bxor" id='bit.bxor'>bit.bxor</a></li>		
										<li><a href="bit/lshift.html#bit.lshift" id='bit.lshift'>bit.lshift</a></li>		
										<li><a href="bit/rol.html#bit.rol" id='bit.rol'>bit.rol</a></li>		
										<li><a href="bit/ror.html#bit.ror" id='bit.ror'>bit.ror</a></li>		
										<li><a href="bit/rshift.html#bit.rshift" id='bit.rshift'>bit.rshift</a></li>		
										<li><a href="bit/tobit.html#bit.tobit" id='bit.tobit'>bit.tobit</a></li>		
										<li><a href="bit/tohex.html#bit.tohex" id='bit.tohex'>bit.tohex</a></li>		
																					</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="Facebook.html#Facebook" id='Facebook' class='closed item'><i class="icon-chevron-right"></i> <strong>Facebook</strong></a>
							<ul class="dropdown-menu">
														<li><a href="Facebook/authorize.html#Facebook:authorize" id='Facebook:authorize'>Facebook:authorize</a></li>		
										<li><a href="Facebook/dialog.html#Facebook:dialog" id='Facebook:dialog'>Facebook:dialog</a></li>		
										<li><a href="Facebook/extendAccessToken.html#Facebook:extendAccessToken" id='Facebook:extendAccessToken'>Facebook:extendAccessToken</a></li>		
										<li><a href="Facebook/extendAccessTokenIfNeeded.html#Facebook:extendAccessTokenIfNeeded" id='Facebook:extendAccessTokenIfNeeded'>Facebook:extendAccessTokenIfNeeded</a></li>		
										<li><a href="Facebook/getAccessToken.html#Facebook:getAccessToken" id='Facebook:getAccessToken'>Facebook:getAccessToken</a></li>		
										<li><a href="Facebook/getExpirationDate.html#Facebook:getExpirationDate" id='Facebook:getExpirationDate'>Facebook:getExpirationDate</a></li>		
										<li><a href="Facebook/graphRequest.html#Facebook:graphRequest" id='Facebook:graphRequest'>Facebook:graphRequest</a></li>		
										<li><a href="Facebook/isSessionValid.html#Facebook:isSessionValid" id='Facebook:isSessionValid'>Facebook:isSessionValid</a></li>		
										<li><a href="Facebook/logout.html#Facebook:logout" id='Facebook:logout'>Facebook:logout</a></li>		
										<li><a href="Facebook/setAccessToken.html#Facebook:setAccessToken" id='Facebook:setAccessToken'>Facebook:setAccessToken</a></li>		
										<li><a href="Facebook/setAppId.html#Facebook:setAppId" id='Facebook:setAppId'>Facebook:setAppId</a></li>		
										<li><a href="Facebook/setExpirationDate.html#Facebook:setExpirationDate" id='Facebook:setExpirationDate'>Facebook:setExpirationDate</a></li>		
										<li><a href="Facebook/shouldExtendAccessToken.html#Facebook:shouldExtendAccessToken" id='Facebook:shouldExtendAccessToken'>Facebook:shouldExtendAccessToken</a></li>		
																							<li><a href="Facebook/Event.DIALOG_CANCEL.html#Event.DIALOG_CANCEL" id='Event.DIALOG_CANCEL'>Event.DIALOG_CANCEL</a></li>		
										<li><a href="Facebook/Event.DIALOG_COMPLETE.html#Event.DIALOG_COMPLETE" id='Event.DIALOG_COMPLETE'>Event.DIALOG_COMPLETE</a></li>		
										<li><a href="Facebook/Event.DIALOG_ERROR.html#Event.DIALOG_ERROR" id='Event.DIALOG_ERROR'>Event.DIALOG_ERROR</a></li>		
										<li><a href="Facebook/Event.LOGIN_CANCEL.html#Event.LOGIN_CANCEL" id='Event.LOGIN_CANCEL'>Event.LOGIN_CANCEL</a></li>		
										<li><a href="Facebook/Event.LOGIN_COMPLETE.html#Event.LOGIN_COMPLETE" id='Event.LOGIN_COMPLETE'>Event.LOGIN_COMPLETE</a></li>		
										<li><a href="Facebook/Event.LOGIN_ERROR.html#Event.LOGIN_ERROR" id='Event.LOGIN_ERROR'>Event.LOGIN_ERROR</a></li>		
										<li><a href="Facebook/Event.LOGOUT_COMPLETE.html#Event.LOGOUT_COMPLETE" id='Event.LOGOUT_COMPLETE'>Event.LOGOUT_COMPLETE</a></li>		
										<li><a href="Facebook/Event.REQUEST_COMPLETE.html#Event.REQUEST_COMPLETE" id='Event.REQUEST_COMPLETE'>Event.REQUEST_COMPLETE</a></li>		
										<li><a href="Facebook/Event.REQUEST_ERROR.html#Event.REQUEST_ERROR" id='Event.REQUEST_ERROR'>Event.REQUEST_ERROR</a></li>		
																	</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="flurry.html#flurry" id='flurry' class='closed item'><i class="icon-chevron-right"></i> <strong>flurry</strong></a>
							<ul class="dropdown-menu">
														<li><a href="flurry/endTimedEvent.html#flurry.endTimedEvent" id='flurry.endTimedEvent'>flurry.endTimedEvent</a></li>		
										<li><a href="flurry/isAvailable.html#flurry.isAvailable" id='flurry.isAvailable'>flurry.isAvailable</a></li>		
										<li><a href="flurry/logEvent.html#flurry.logEvent" id='flurry.logEvent'>flurry.logEvent</a></li>		
										<li><a href="flurry/startSession.html#flurry.startSession" id='flurry.startSession'>flurry.startSession</a></li>		
																					</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="GoogleBilling.html#GoogleBilling" id='GoogleBilling' class='closed item'><i class="icon-chevron-right"></i> <strong>GoogleBilling</strong></a>
							<ul class="dropdown-menu">
														<li><a href="GoogleBilling/checkBillingSupported.html#GoogleBilling:checkBillingSupported" id='GoogleBilling:checkBillingSupported'>GoogleBilling:checkBillingSupported</a></li>		
										<li><a href="GoogleBilling/confirmNotification.html#GoogleBilling:confirmNotification" id='GoogleBilling:confirmNotification'>GoogleBilling:confirmNotification</a></li>		
										<li><a href="GoogleBilling/requestPurchase.html#GoogleBilling:requestPurchase" id='GoogleBilling:requestPurchase'>GoogleBilling:requestPurchase</a></li>		
										<li><a href="GoogleBilling/restoreTransactions.html#GoogleBilling:restoreTransactions" id='GoogleBilling:restoreTransactions'>GoogleBilling:restoreTransactions</a></li>		
										<li><a href="GoogleBilling/setApiVersion.html#GoogleBilling:setApiVersion" id='GoogleBilling:setApiVersion'>GoogleBilling:setApiVersion</a></li>		
										<li><a href="GoogleBilling/setPublicKey.html#GoogleBilling:setPublicKey" id='GoogleBilling:setPublicKey'>GoogleBilling:setPublicKey</a></li>		
																							<li><a href="GoogleBilling/Event.CHECK_BILLING_SUPPORTED_COMPLETE.html#Event.CHECK_BILLING_SUPPORTED_COMPLETE" id='Event.CHECK_BILLING_SUPPORTED_COMPLETE'>Event.CHECK_BILLING_SUPPORTED_COMPLETE</a></li>		
										<li><a href="GoogleBilling/Event.CONFIRM_NOTIFICATION_COMPLETE.html#Event.CONFIRM_NOTIFICATION_COMPLETE" id='Event.CONFIRM_NOTIFICATION_COMPLETE'>Event.CONFIRM_NOTIFICATION_COMPLETE</a></li>		
										<li><a href="GoogleBilling/Event.PURCHASE_STATE_CHANGE.html#Event.PURCHASE_STATE_CHANGE" id='Event.PURCHASE_STATE_CHANGE'>Event.PURCHASE_STATE_CHANGE</a></li>		
										<li><a href="GoogleBilling/Event.REQUEST_PURCHASE_COMPLETE.html#Event.REQUEST_PURCHASE_COMPLETE" id='Event.REQUEST_PURCHASE_COMPLETE'>Event.REQUEST_PURCHASE_COMPLETE</a></li>		
										<li><a href="GoogleBilling/Event.RESTORE_TRANSACTIONS_COMPLETE.html#Event.RESTORE_TRANSACTIONS_COMPLETE" id='Event.RESTORE_TRANSACTIONS_COMPLETE'>Event.RESTORE_TRANSACTIONS_COMPLETE</a></li>		
																							<li><a href="GoogleBilling/GoogleBilling.BILLING_UNAVAILABLE.html#GoogleBilling.BILLING_UNAVAILABLE" id='GoogleBilling.BILLING_UNAVAILABLE'>GoogleBilling.BILLING_UNAVAILABLE</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.CANCELED.html#GoogleBilling.CANCELED" id='GoogleBilling.CANCELED'>GoogleBilling.CANCELED</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.DEVELOPER_ERROR.html#GoogleBilling.DEVELOPER_ERROR" id='GoogleBilling.DEVELOPER_ERROR'>GoogleBilling.DEVELOPER_ERROR</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.ERROR.html#GoogleBilling.ERROR" id='GoogleBilling.ERROR'>GoogleBilling.ERROR</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.EXPIRED.html#GoogleBilling.EXPIRED" id='GoogleBilling.EXPIRED'>GoogleBilling.EXPIRED</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.INAPP.html#GoogleBilling.INAPP" id='GoogleBilling.INAPP'>GoogleBilling.INAPP</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.ITEM_UNAVAILABLE.html#GoogleBilling.ITEM_UNAVAILABLE" id='GoogleBilling.ITEM_UNAVAILABLE'>GoogleBilling.ITEM_UNAVAILABLE</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.OK.html#GoogleBilling.OK" id='GoogleBilling.OK'>GoogleBilling.OK</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.PURCHASED.html#GoogleBilling.PURCHASED" id='GoogleBilling.PURCHASED'>GoogleBilling.PURCHASED</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.REFUNDED.html#GoogleBilling.REFUNDED" id='GoogleBilling.REFUNDED'>GoogleBilling.REFUNDED</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.SERVICE_UNAVAILABLE.html#GoogleBilling.SERVICE_UNAVAILABLE" id='GoogleBilling.SERVICE_UNAVAILABLE'>GoogleBilling.SERVICE_UNAVAILABLE</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.SUBS.html#GoogleBilling.SUBS" id='GoogleBilling.SUBS'>GoogleBilling.SUBS</a></li>		
										<li><a href="GoogleBilling/GoogleBilling.USER_CANCELED.html#GoogleBilling.USER_CANCELED" id='GoogleBilling.USER_CANCELED'>GoogleBilling.USER_CANCELED</a></li>		
													</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="iad.html#iad" id='iad' class='closed item'><i class="icon-chevron-right"></i> <strong>iad</strong></a>
							<ul class="dropdown-menu">
														<li><a href="iad/isAvailable.html#iad.isAvailable" id='iad.isAvailable'>iad.isAvailable</a></li>		
																					</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="iadBanner.html#iad.Banner" id='iad.Banner' class='closed item'><i class="icon-chevron-right"></i> <strong>iad.Banner</strong></a>
							<ul class="dropdown-menu">
														<li><a href="iadBanner/new.html#iad.Banner.new" id='iad.Banner.new'>iad.Banner.new</a></li>		
										<li><a href="iadBanner/hide.html#iad.Banner:hide" id='iad.Banner:hide'>iad.Banner:hide</a></li>		
										<li><a href="iadBanner/isBannerLoaded.html#iad.Banner:isBannerLoaded" id='iad.Banner:isBannerLoaded'>iad.Banner:isBannerLoaded</a></li>		
										<li><a href="iadBanner/setAlignment.html#iad.Banner:setAlignment" id='iad.Banner:setAlignment'>iad.Banner:setAlignment</a></li>		
										<li><a href="iadBanner/show.html#iad.Banner:show" id='iad.Banner:show'>iad.Banner:show</a></li>		
																							<li><a href="iadBanner/Event.BANNER_ACTION_BEGIN.html#Event.BANNER_ACTION_BEGIN" id='Event.BANNER_ACTION_BEGIN'>Event.BANNER_ACTION_BEGIN</a></li>		
										<li><a href="iadBanner/Event.BANNER_ACTION_FINISHED.html#Event.BANNER_ACTION_FINISHED" id='Event.BANNER_ACTION_FINISHED'>Event.BANNER_ACTION_FINISHED</a></li>		
										<li><a href="iadBanner/Event.BANNER_AD_FAILED.html#Event.BANNER_AD_FAILED" id='Event.BANNER_AD_FAILED'>Event.BANNER_AD_FAILED</a></li>		
										<li><a href="iadBanner/Event.BANNER_AD_LOADED.html#Event.BANNER_AD_LOADED" id='Event.BANNER_AD_LOADED'>Event.BANNER_AD_LOADED</a></li>		
																							<li><a href="iadBanner/iad.Banner.BOTTOM.html#iad.Banner.BOTTOM" id='iad.Banner.BOTTOM'>iad.Banner.BOTTOM</a></li>		
										<li><a href="iadBanner/iad.Banner.LANDSCAPE.html#iad.Banner.LANDSCAPE" id='iad.Banner.LANDSCAPE'>iad.Banner.LANDSCAPE</a></li>		
										<li><a href="iadBanner/iad.Banner.PORTRAIT.html#iad.Banner.PORTRAIT" id='iad.Banner.PORTRAIT'>iad.Banner.PORTRAIT</a></li>		
										<li><a href="iadBanner/iad.Banner.TOP.html#iad.Banner.TOP" id='iad.Banner.TOP'>iad.Banner.TOP</a></li>		
													</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="json.html#json" id='json' class='closed item'><i class="icon-chevron-right"></i> <strong>json</strong></a>
							<ul class="dropdown-menu">
														<li><a href="json/decode.html#json.decode" id='json.decode'>json.decode</a></li>		
										<li><a href="json/encode.html#json.encode" id='json.encode'>json.encode</a></li>		
																					</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="lfs.html#lfs" id='lfs' class='closed item'><i class="icon-chevron-right"></i> <strong>lfs</strong></a>
							<ul class="dropdown-menu">
																</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="lpeg.html#lpeg" id='lpeg' class='closed item'><i class="icon-chevron-right"></i> <strong>lpeg</strong></a>
							<ul class="dropdown-menu">
																</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="Microphone.html#Microphone" id='Microphone' class='closed item'><i class="icon-chevron-right"></i> <strong>Microphone</strong></a>
							<ul class="dropdown-menu">
														<li><a href="Microphone/new.html#Microphone.new" id='Microphone.new'>Microphone.new</a></li>		
										<li><a href="Microphone/setOutputFile.html#Microphone:setOutputFile" id='Microphone:setOutputFile'>Microphone:setOutputFile</a></li>		
										<li><a href="Microphone/start.html#Microphone:start" id='Microphone:start'>Microphone:start</a></li>		
										<li><a href="Microphone/stop.html#Microphone:stop" id='Microphone:stop'>Microphone:stop</a></li>		
																							<li><a href="Microphone/Event.DATA_AVAILABLE.html#Event.DATA_AVAILABLE" id='Event.DATA_AVAILABLE'>Event.DATA_AVAILABLE</a></li>		
																	</ul>
			</li>
										<li class='uplist dropdown closedlist'><a href="sqlite3.html#sqlite3" id='sqlite3' class='closed item'><i class="icon-chevron-right"></i> <strong>sqlite3</strong></a>
							<ul class="dropdown-menu">
																</ul>
			</li>
										<li class='uplist dropdown'><a href="StoreKit.html#StoreKit" id='StoreKit' class='opened item'><i class="icon-chevron-right"></i> <strong>StoreKit</strong></a>
							<ul class="dropdown-menu">
														<li><a href="StoreKit/canMakePayments.html#StoreKit:canMakePayments" id='StoreKit:canMakePayments'>StoreKit:canMakePayments</a></li>		
										<li><a href="StoreKit/finishTransaction.html#StoreKit:finishTransaction" id='StoreKit:finishTransaction'>StoreKit:finishTransaction</a></li>		
										<li><a href="StoreKit/purchase.html#StoreKit:purchase" id='StoreKit:purchase'>StoreKit:purchase</a></li>		
										<li><a href="StoreKit/requestProducts.html#StoreKit:requestProducts" id='StoreKit:requestProducts'>StoreKit:requestProducts</a></li>		
										<li><a href="StoreKit/restoreCompletedTransactions.html#StoreKit:restoreCompletedTransactions" id='StoreKit:restoreCompletedTransactions'>StoreKit:restoreCompletedTransactions</a></li>		
																							<li><a href="StoreKit/Event.REQUEST_PRODUCTS_COMPLETE.html#Event.REQUEST_PRODUCTS_COMPLETE" id='Event.REQUEST_PRODUCTS_COMPLETE'>Event.REQUEST_PRODUCTS_COMPLETE</a></li>		
										<li><a href="StoreKit/Event.RESTORE_TRANSACTIONS_COMPLETE.html#Event.RESTORE_TRANSACTIONS_COMPLETE" id='Event.RESTORE_TRANSACTIONS_COMPLETE'>Event.RESTORE_TRANSACTIONS_COMPLETE</a></li>		
										<li><a href="StoreKit/Event.TRANSACTION.html#Event.TRANSACTION" id='Event.TRANSACTION'>Event.TRANSACTION</a></li>		
																							<li><a href="StoreKit/StoreKit.FAILED.html#StoreKit.FAILED" id='StoreKit.FAILED'>StoreKit.FAILED</a></li>		
										<li><a href="StoreKit/StoreKit.PURCHASED.html#StoreKit.PURCHASED" id='StoreKit.PURCHASED'>StoreKit.PURCHASED</a></li>		
										<li><a href="StoreKit/StoreKit.RESTORED.html#StoreKit.RESTORED" id='StoreKit.RESTORED'>StoreKit.RESTORED</a></li>		
													</ul>
			</li>
			        </ul>
		</div>
      </div>
      <div class="span8" style='min-height:1000px; padding-left: 20px;'>
				<section id='StoreKit'>
<h1>StoreKit</h1>
<h3>Supported platforms: <span>
			<img src='../design/assets/ios.jpeg' class='ico'/> 
	</span></h3>
<p><strong>Available since version:</strong> Gideros 2012.2.2</p>
<h3>Description:</h3>
<div>
The <a href='StoreKit.html#StoreKit'>StoreKit</a> class provides the functionality that allow an application to request payment from a user. <br />
This class is only available to iOS platforms.<br />
The <a href='StoreKit.html#StoreKit'>StoreKit</a> class is defined in module "storekit". Therefore, you need to call<br />
<code>require(&quot;storekit&quot;)</code> before using it. Loading the "storekit" module <br />
also creates a global variable <a href='StoreKit.html#StoreKit'>storekit</a> of type <a href='StoreKit.html#StoreKit'>StoreKit</a> for direct use. <br />
<h3>State of a Transaction</h3><br />
The state of a transaction is defined by 3 string constants:<br />
<ul><br />
<li>**StoreKit.PURCHASED = "purchased"**: The App Store successfully processed payment. Your application should provide the content the user purchased.</li><br />
<li>**StoreKit.FAILED = "failed"**: The transaction failed. Check the <code>event.errorCode</code> and <code>event.errorDescription</code> fields to determine what happened.</li><br />
<li>**StoreKit.RESTORED = "restored"**: This transaction restores content previously purchased by the user. Read the <code>event.originalTransaction</code> field to obtain information about the original purchase.</li><br />
</ul><br />
<h3>StoreKit Events</h3><br />
The <a href='StoreKit.html#StoreKit'>StoreKit</a> class dispatches the events <a href='StoreKit/Event.REQUEST_PRODUCTS_COMPLETE.html#Event.REQUEST_PRODUCTS_COMPLETE'>Event.REQUEST_PRODUCTS_COMPLETE</a>, <a href='StoreKit/Event.TRANSACTION.html#Event.TRANSACTION'>Event.TRANSACTION</a> and <a href='StoreKit/Event.RESTORE_TRANSACTIONS_COMPLETE.html#Event.RESTORE_TRANSACTIONS_COMPLETE'>Event.RESTORE_TRANSACTIONS_COMPLETE</a>.<br />
<h3># Event.REQUEST_PRODUCTS_COMPLETE</h3><br />
The function [[StoreKit:requestProducts]] is used to retrieve localized information about a list of products from the Apple App Store. <br />
When the request completes, <a href='StoreKit/Event.REQUEST_PRODUCTS_COMPLETE.html#Event.REQUEST_PRODUCTS_COMPLETE'>Event.REQUEST_PRODUCTS_COMPLETE</a> event is dispatched. The resulting event table contains <br />
these additional fields about the products:<br />
<ul><br />
<li>**event.error:** (number) error code if the request failed to execute</li><br />
<li>**event.errorDescription:** (string) error description if the request failed to execute</li><br />
<li>**event.products:** (table) array of products where each element is a table which contains the product information</li><br />
<li>**event.invalidProductIdentifiers:** (table) array of product identifier strings that were not recognized by the Apple App Store</li><br />
</ul><br />
Each table in <code>event.products</code> array contains these fields:<br />
<ul><br />
<li>**title:** (number) localized name of the product</li><br />
<li>**description:** (string) localized description of the product</li><br />
<li>**price:** (number) cost of the product in the local currency</li><br />
<li>**productIdentifier:** (string) string that identifies the product to the Apple App Store</li><br />
</ul><br />
For example, this code can be used to print the retrieved product information:<br />
<pre><code>local function onRequestProductsComplete(event)
		if event.errorCode ~= nil then
			print("error", event.errorCode, event.errorDescription)
			return
		end
		print("products:")
		for i=1,#event.products do
			print("title", event.products[i].title)
			print("description", event.products[i].description)
			print("price", event.products[i].price)
			print("productIdentifier", event.products[i].productIdentifier)
		end
		print("invalidProductIdentifiers:")
		for i=1,#event.invalidProductIdentifiers do
			print(event.invalidProductIdentifiers[i])
		end
	end</code></pre><br />
<h3># Event.TRANSACTION</h3><br />
This event is dispatched when a transaction is updated. The event listener should process all successful transactions, <br />
unlock the functionality purchased by the user, and then finish the transaction by calling [[StoreKit:finishTransaction]] method. The resulting event table can <br />
contain these additional fields about the products:<br />
<ul><br />
<li>**event.errorCode:** (number) error code if <code>event.transaction.state</code> is set to <a href='StoreKit/StoreKit.FAILED.html#StoreKit.FAILED'>StoreKit.FAILED</a></li><br />
<li>**event.errorDescription:** (string) error description if <code>event.transaction.state</code> is set to <a href='StoreKit/StoreKit.FAILED.html#StoreKit.FAILED'>StoreKit.FAILED</a></li><br />
<li>**event.payment.productIdentifier:** (string) product identifier of the transaction</li><br />
<li>**event.payment.quantity:** (number) number of items the user wants to purchase</li><br />
<li>**event.transaction.state:** (string) current state of the transaction</li><br />
<li>**event.transaction.identifier:** (string) string that uniquely identifies a successful payment transaction</li><br />
<li>**event.transaction.receipt:** (string) signed receipt that records all information about a successful payment transaction</li><br />
<li>**event.transaction.date:** (string) date the transaction was added to the App Store&#039;s payment queue</li><br />
<li>**event.originalTransaction.identifier:** (string) identifier of original transaction</li><br />
<li>**event.originalTransaction.date:** (string) date of the original transaction</li><br />
</ul><br />
This code can be used to print the transaction information and unlock the functionality purchased by the user:<br />
<pre><code>local function onTransaction(event)
		print("payment.productIdentifier", event.payment.productIdentifier)
		print("payment.quantity", event.payment.quantity)
		print("transaction.state", event.transaction.state)
		if event.transaction.state == StoreKit.FAILED then
			print("error", event.errorCode, event.errorDescription)
		else		
			print("transaction.identifier", event.transaction.identifier)
			print("transaction.date", event.transaction.date)
			if event.transaction.state == StoreKit.PURCHASED then
				print("transaction.receipt", event.transaction.receipt)
			end
			if event.transaction.state == StoreKit.RESTORED then
				print("originalTransaction.identifier", event.originalTransaction.identifier)
				print("originalTransaction.date", event.originalTransaction.date)
			end
			-- unlock the functionality purchased by the user
		end
		storekit:finishTransaction(event.transaction)
	end</code></pre><br />
<h3># Event.RESTORE_TRANSACTIONS_COMPLETE</h3><br />
This event is dispatched after the transactions are delivered. The resulting event table can contain these additional fields:<br />
<ul><br />
<li>**event.errorCode:** (number) error code if an error occurred while restoring transactions</li><br />
<li>**event.errorDescription:** (string) description of the error if an error occurred while restoring transactions</li><br />
</ul><br />
If all transactions are delivered successfully, <code>event.errorCode</code> and <code>event.errorDescription</code> will be <code>nil</code>.
</div>




<h3>Methods, events and properties:</h3>


<div class='row'>
		<div class='span4'>
		<table class="table">
		<tr>
			<th>Methods</th>
		</tr>
				<tr>
			<td><a href="StoreKit/canMakePayments.html">StoreKit:canMakePayments</a></td>
		</tr>
				<tr>
			<td><a href="StoreKit/finishTransaction.html">StoreKit:finishTransaction</a></td>
		</tr>
				<tr>
			<td><a href="StoreKit/purchase.html">StoreKit:purchase</a></td>
		</tr>
				<tr>
			<td><a href="StoreKit/requestProducts.html">StoreKit:requestProducts</a></td>
		</tr>
				<tr>
			<td><a href="StoreKit/restoreCompletedTransactions.html">StoreKit:restoreCompletedTransactions</a></td>
		</tr>
				</table>
	</div>
		<div class='span4'>
		<table class="table">
		<tr>
			<th>Events</th>
		</tr>
				<tr>
			<td><a href="StoreKit/Event.REQUEST_PRODUCTS_COMPLETE.html">Event.REQUEST_PRODUCTS_COMPLETE</a></td>
		</tr>
				<tr>
			<td><a href="StoreKit/Event.RESTORE_TRANSACTIONS_COMPLETE.html">Event.RESTORE_TRANSACTIONS_COMPLETE</a></td>
		</tr>
				<tr>
			<td><a href="StoreKit/Event.TRANSACTION.html">Event.TRANSACTION</a></td>
		</tr>
				</table>
	</div>
	</div>
<div class='row'>
		<div class='span4'>
		<table class="table">
		<tr>
			<th>Properties</th>
		</tr>
				<tr>
			<td><a href="StoreKit/StoreKit.FAILED.html">StoreKit.FAILED</a></td>
		</tr>
				<tr>
			<td><a href="StoreKit/StoreKit.PURCHASED.html">StoreKit.PURCHASED</a></td>
		</tr>
				<tr>
			<td><a href="StoreKit/StoreKit.RESTORED.html">StoreKit.RESTORED</a></td>
		</tr>
				</table>
	</div>
	</div>
</section>
			</div>
	</div>

  </div>


</div>
    <!-- Footer
    ================================================== -->
		<footer>
			<div class="footer-bottom">
				<div class="container">
					<div class="row">
						<div class="span12">
							<p class="pull-right"><a href="StoreKit.html#">Back to top</a></p>
							<p>&copy; GiderosMobile.com</p>
						</div>
					</div>
				</div>
			</div>
		</footer>



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
   <!-- last but not least the javascript -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="js/jquery-1.8.3.min.js.html"><\/script>')</script>
		<script src="../design/js/bootstrap.js"></script>
		<script type="text/javascript" src="../design/js/prettify.js"></script>
		<script type="text/javascript" src="../design/js/lang-lua.js"></script>
		<script>
			$(document).ready(function(){
				//bootstrap tooltip trigger
				$('[rel="tooltip"]').tooltip();
				$("code").addClass("prettyprint").addClass("lang-lua");
				prettyPrint();
				$(".uplist").children("a.item").click(function(e){
					if($(this).hasClass("closed"))
					{
						$(this).addClass("opened").removeClass("closed");
						$(this).parent().find("ul").slideDown();
					}
					else
					{
						e.preventDefault();
						$(this).addClass("closed").removeClass("opened");
						$(this).parent().find("ul").slideUp();
					}
				});
			});
		</script>
  </body>
</html>
